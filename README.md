<!-- Code generated by gomarkdoc. DO NOT EDIT -->

[![Go Report Card](https://goreportcard.com/badge/github.com/szkiba/muxpress)](https://goreportcard.com/report/github.com/szkiba/muxpress)
[![GitHub Actions](https://github.com/szkiba/muxpress/workflows/Test/badge.svg)](https://github.com/szkiba/muxpress/actions?query=workflow%3ATest+branch%3Amaster)
[![Go Reference](https://pkg.go.dev/badge/github.com/szkiba/muxpress.svg)](https://pkg.go.dev/github.com/szkiba/muxpress)
[![codecov](https://codecov.io/gh/szkiba/muxpress/branch/master/graph/badge.svg?token=1234567890)](https://codecov.io/gh/szkiba/muxpress)

# muxpress

```go
import "github.com/szkiba/muxpress"
```

Package muxpress provides Express.js like micro web framework for goja.

### Features

Easy integration was the main design goal. Major features:

\- Express.js like JavaScript API

\- Context\-aware implementation

\- Event loop ready, tested with goja\_nodejs and k6 event loop

\- Also works without event loop

<details><summary>Example (Fixed)</summary>
<p>

This example starts a server and listens for connections on port 3000. The application responds with "Hello World\!" for requests to the root URL. All other routes are answered with a 404 not found message.

In this example, the name of the constructor is \`Application\`, but the name you use is up to you.

```go
package main

import (
	"fmt"
	"github.com/dop251/goja"
	req "github.com/imroc/req/v3"
	"github.com/szkiba/muxpress"
)

func main() {
	const SCRIPT = `
	const app = new Application()

	app.get("/", (req, res) => {
		res.text("Hello World!")
	})

	app.listen(3000)
  `
	runtime := goja.New()
	ctor, _ := muxpress.NewApplicationConstructor(runtime)

	runtime.Set("Application", ctor)

	runtime.RunScript("example", SCRIPT)

	message := req.MustGet("http://127.0.0.1:3000").String()

	fmt.Println(message)

}
```

#### Output

```
Hello World!
```

</p>
</details>

<details><summary>Example (Options)</summary>
<p>

This example starts a server and listens for connections on port 3000. The application responds with "Hello World\!" for requests to the root URL. All other routes are answered with a 404 not found message. Constructor created with a custom context and logger passed as an option.

In this example, the name of the constructor is \`Application\`, but the name you use is up to you.

```go
package main

import (
	"context"
	"fmt"
	"github.com/dop251/goja"
	req "github.com/imroc/req/v3"
	"github.com/sirupsen/logrus"
	"github.com/szkiba/muxpress"
)

func main() {
	const SCRIPT = `
	const app = new Application()

	app.get("/", (req, res) => {
		res.text("Hello World!")
	})

	app.listen(3000)
	`
	runtime := goja.New()
	ctor, _ := muxpress.NewApplicationConstructor(
		runtime,
		muxpress.WithContext(context.TODO),
		muxpress.WithLogger(logrus.StandardLogger().WithField("example", "hello")),
	)

	runtime.Set("Application", ctor)

	message := req.MustGet("http://127.0.0.1:3000").String()

	fmt.Println(message)

}
```

#### Output

```
Hello World!
```

</p>
</details>

<details><summary>Example (Random)</summary>
<p>

This example starts a server and listens for connections on a randomly assigned free port. The application responds with "Hello World\!" for requests to the root URL. All other routes are answered with a 404 not found message. The allocated port is accessed via the \`app.port\`\` property. The example takes advantage of the fact that goja returns the value of the last expression evaluated.

In this example, the name of the constructor is \`Application\`, but the name you use is up to you.

```go
package main

import (
	"fmt"
	"github.com/dop251/goja"
	req "github.com/imroc/req/v3"
	"github.com/szkiba/muxpress"
)

func main() {
	const SCRIPT = `
	const app = new Application()

	app.get("/", (req, res) => {
		res.text("Hello World!")
	})

	app.listen()

	app.port // goja runtime returns the last evaluated expression
  `
	runtime := goja.New()
	ctor, _ := muxpress.NewApplicationConstructor(runtime)

	runtime.Set("Application", ctor)

	port, _ := runtime.RunScript("example", SCRIPT)
	location := fmt.Sprintf("http://127.0.0.1:%d", port.ToInteger())

	message := req.MustGet(location).String()

	fmt.Println(message)

}
```

#### Output

```
Hello World!
```

</p>
</details>

---
# API

## Variables

Declarations holds TypeScript declaration file contents for muxpress types.

```go
var Declarations []byte
```

## func [NewApplicationConstructor](<https://github.com/szkiba/muxpress/blob/master/application.go#L23>)

```go
func NewApplicationConstructor(runtime *goja.Runtime, option ...Option) (func(call goja.ConstructorCall) *goja.Object, error)
```

NewApplicationConstructor creates an application constructor function. The returned constructor function is ready for use and assignable to any name in a given \[goja.Runtime\]. This allow to decide the name of the JavaScript constructor. You can pass \[Option\] parameters to customize the muxpress runtime behavior.

<details><summary>Example</summary>
<p>

This example starts a server and listens for connections on a randomly assigned free port. The application responds with "Hello World\!" for requests to the root URL. In this example, the name of the constructor is \`WebApp\`, but the name you use is up to you.

```go
package main

import (
	"fmt"
	"github.com/dop251/goja"
	req "github.com/imroc/req/v3"
	"github.com/szkiba/muxpress"
)

func main() {
	const SCRIPT = `
	const app = new WebApp()

	app.get("/", (req, res) => {
			res.text("Hello World!")
	})

	app.listen()

	app.port // goja runtime returns the last evaluated expression
`

	runtime := goja.New()

	ctor, err := muxpress.NewApplicationConstructor(runtime)
	if err != nil {
		panic(err)
	}

	err = runtime.Set("WebApp", ctor)
	if err != nil {
		panic(err)
	}

	port, err := runtime.RunScript("example", SCRIPT)
	if err != nil {
		panic(err)
	}

	message := req.MustGet("http://localhost:" + port.String())

	fmt.Println(message)

}
```

#### Output

```
Hello World!
```

</p>
</details>

<details><summary>Example (With Context)</summary>
<p>

In this example custom context will passed to muxpress runtime. All http server will be stopped when context canceled.

```go
package main

import (
	"context"
	"github.com/dop251/goja"
	"github.com/szkiba/muxpress"
	"time"
)

func main() {
	runtime := goja.New()

	ctx, cancel := context.WithTimeout(context.TODO(), time.Second)
	defer cancel()

	getContext := func() context.Context { return ctx }

	ctor, err := muxpress.NewApplicationConstructor(runtime, muxpress.WithContext(getContext))
	if err != nil {
		panic(err)
	}

	err = runtime.Set("WebApp", ctor)
	if err != nil {
		panic(err)
	}

}
```

#### Output

```

```

</p>
</details>

<details><summary>Example (With Logger)</summary>
<p>

In this example every log entry come from muxpress runtime will contains a \`source\` field with value \`script\`.

```go
package main

import (
	"github.com/dop251/goja"
	"github.com/sirupsen/logrus"
	"github.com/szkiba/muxpress"
)

func main() {
	runtime := goja.New()

	logger := logrus.StandardLogger().WithField("source", "script")

	ctor, err := muxpress.NewApplicationConstructor(runtime, muxpress.WithLogger(logger))
	if err != nil {
		panic(err)
	}

	err = runtime.Set("WebApp", ctor)
	if err != nil {
		panic(err)
	}

}
```

#### Output

```

```

</p>
</details>

## type [Option](<https://github.com/szkiba/muxpress/blob/master/options.go#L59>)

Option is an option for the \[NewApplicationConstructor\] factory function.

```go
type Option = func(*options)
```

### func [WithContext](<https://github.com/szkiba/muxpress/blob/master/options.go#L77>)

```go
func WithContext(context func() context.Context) Option
```

WithContext returns an Option that specifies a \[context.Context\] getter function to be used for stopping application when context is canceled or done. Default is to use \[context.TODO\].

### func [WithFS](<https://github.com/szkiba/muxpress/blob/master/options.go#L69>)

```go
func WithFS(filesystem afero.Fs) Option
```

WithFS returns an Option that specifies a \[afero.Fs\] filesystem to be used for accessing static files.

### func [WithLogger](<https://github.com/szkiba/muxpress/blob/master/options.go#L62>)

```go
func WithLogger(logger logrus.FieldLogger) Option
```

WithLogger returns an Option that specifies a \[logrus.FieldLogger\] logger to be used for logging.

### func [WithRunOnLoop](<https://github.com/szkiba/muxpress/blob/master/options.go#L111>)

```go
func WithRunOnLoop(runOnLoop func(func(*goja.Runtime))) Option
```

WithRunOnLoop returns an Option that specifies \[RunOnLoop\] function from \[goja\_nodejs\] package to be used for execute middlewares for incoming requests.

\[RunOnLoop\]: https://pkg.go.dev/github.com/dop251/goja_nodejs/eventloop#EventLoop.RunOnLoop \[goja\_nodejs\]: https://github.com/dop251/goja_nodejs

### func [WithRunner](<https://github.com/szkiba/muxpress/blob/master/options.go#L101>)

```go
func WithRunner(runner RunnerFunc) Option
```

WithRunner returns an Option that specifies a runner function to be used for execute middlewares for incoming requests. This option allows you to schedule middleware calls in the event loop.

Since \[goja.Runtime\] is not goroutine\-safe, the default is to execute middlewares in synchronous way.

```
func syncRunner() RunnerFunc {
  var mu sync.Mutex

  return func(fn func() error) {
    mu.Lock()
    defer mu.Unlock()

    if err := fn(); err != nil {
      panic(err)
    }
  }
}
```

## type [RunnerFunc](<https://github.com/szkiba/muxpress/blob/master/options.go#L18>)

RunnerFunc is used to execute middlewares on incoming requests.

```go
type RunnerFunc func(func() error)
```



---
# JavaScript API


<a name="readmemd"></a>

muxpress is an [Express.js](https://expressjs.com/) like micro web framework for [goja](https://github.com/dop251/goja).

<!-- Code generated by typedoc. DO NOT EDIT -->


<a name="classesapplicationmd"></a>

## Class: Application

An application object represents a web application.

The following example starts a server and listens for connections on port 3000.
The application responds with a JSON object for requests to the root URL.
All other routes are answered with a 404 not found message.

In this example, the name of the constructor is `Application`, but the name you use is up to you.

**`Example`**

```ts
const app = new Application()

app.get('/', (req, res) => {
  res.json({message:"Hello World!"})
})

app.listen(3000)
```

### Constructors

#### constructor

• **new Application**()

Creates a new application instance.

##### Defined in

[index.d.ts:40](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L40)

### Methods

#### delete

▸ **delete**(`path`, `...middleware`): `void`

Routes HTTP `DELETE` requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:100](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L100)

___

#### get

▸ **get**(`path`, `...middleware`): `void`

Routes HTTP GET requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:50](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L50)

___

#### head

▸ **head**(`path`, `...middleware`): `void`

Routes HTTP HEAD requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:60](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L60)

___

#### listen

▸ **listen**(`addr?`, `callback?`): `void`

Starts the server.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `addr?` | `string` | - |
| `callback?` | () => `void` | host name or IP address for listening on, default 127.0.0.1 |

##### Returns

`void`

The instance for fluent/chaining API

##### Defined in

[index.d.ts:135](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L135)

___

#### options

▸ **options**(`path`, `...middleware`): `void`

Routes HTTP OPTIONS requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:110](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L110)

___

#### patch

▸ **patch**(`path`, `...middleware`): `void`

Routes HTTP PATCH requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:90](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L90)

___

#### post

▸ **post**(`path`, `...middleware`): `void`

Routes HTTP POST requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:70](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L70)

___

#### put

▸ **put**(`path`, `...middleware`): `void`

Routes HTTP PUT requests to the specified path with the specified middleware functions.

You can provide multiple middleware functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:80](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L80)

___

#### static

▸ **static**(`path`, `docroot`): `void`

Mount static web content from given source directory.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path where the source will be mounted on |
| `docroot` | `string` | The source directory path |

##### Returns

`void`

##### Defined in

[index.d.ts:126](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L126)

___

#### use

▸ **use**(`path`, `...middleware`): `void`

Uses the specified middleware function or functions.

##### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `path` | `string` | The path for which the middleware function is invoked (string or path pattern) |
| `...middleware` | [`Middleware`](#middleware)[] | Middleware functions |

##### Returns

`void`

##### Defined in

[index.d.ts:118](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L118)


<a name="interfacesrequestmd"></a>

## Interface: Request

The `req` object represents the HTTP request and has properties for the request query string, parameters, body, HTTP headers, and so on.

In this documentation and by convention, the object is always referred to as `req` (and the HTTP response is `res`) but its actual name is determined by the parameters to the callback function in which you’re working.

**`Example`**

```ts
app.get("/user/:id", function (req, res) {
  res.send("user " + req.params.id);
});
```

### Properties

#### body

• **body**: `Record`<`string`, `any`\>

Contains key-value pairs of data submitted in the request body.
By default, it is undefined, and is populated when the request
Content-Type is `application/json`.

##### Defined in

[index.d.ts:155](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L155)

___

#### cookies

• **cookies**: `Record`<`string`, `string`\>

This property is an object that contains cookies sent by the request.

##### Defined in

[index.d.ts:160](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L160)

___

#### get

• **get**: (`field`: `string`) => `string`

##### Type declaration

▸ (`field`): `string`

Returns the specified HTTP request header field (case-insensitive match).

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `field` | `string` | the header field name |

###### Returns

`string`

the header field value.

##### Defined in

[index.d.ts:207](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L207)

___

#### header

• **header**: (`field`: `string`) => `string`

##### Type declaration

▸ (`field`): `string`

Returns the specified HTTP request header field (case-insensitive match).

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `field` | `string` | the header field name |

###### Returns

`string`

the header field value.

##### Defined in

[index.d.ts:215](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L215)

___

#### method

• **method**: `string`

Contains a string corresponding to the HTTP method of the request: GET, POST, PUT, and so on.

##### Defined in

[index.d.ts:165](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L165)

___

#### params

• **params**: `Record`<`string`, `string`\>

This property is an object containing properties mapped to the named route parameters.
For example, if you have the route /user/:name, then the “name” property is available as req.params.name.
This object defaults to empty.

##### Defined in

[index.d.ts:172](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L172)

___

#### path

• **path**: `string`

Contains the path part of the request URL.

##### Defined in

[index.d.ts:177](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L177)

___

#### protocol

• **protocol**: `string`

Contains the request protocol string: either http or (for TLS requests) https.

##### Defined in

[index.d.ts:182](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L182)

___

#### query

• **query**: `Record`<`string`, `any`\>

This property is an object containing a property for each query string parameter in the route.

For example:

```js
// GET /search?q=tobi+ferret
console.dir(req.query.q);
// => 'tobi ferret'

// GET /shoes?color=blue&color=black&color=red
console.dir(req.query.color);
// => ['blue', 'black', 'red']
```

##### Defined in

[index.d.ts:199](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L199)


<a name="interfacesresponsemd"></a>

## Interface: Response

The `res` object represents the HTTP response that a server sends when it gets an HTTP request.

In this documentation and by convention, the object is always referred to as `res` (and the HTTP request is `req`) but its actual name is determined by the parameters to the callback function in which you’re working.

**`Example`**

```ts
app.get("/user/:id", function (req, res) {
  res.send("user " + req.params.id);
});
```

### Properties

#### append

• **append**: (`field`: `string`, `value`: `string`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`field`, `value`): [`Response`](#interfacesresponsemd)

Appends the specified value to the HTTP response header field. If the header is not already set, it creates the header with the specified value.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `field` | `string` | the header field name |
| `value` | `string` | the value to append |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:235](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L235)

___

#### binary

• **binary**: (`body`: `string` \| `number`[] \| `ArrayBuffer`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`body`): [`Response`](#interfacesresponsemd)

Sends a binray response. This method sends a response (with the "application/octet-stream" content-type) that is the body paramter.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `body` | `string` \| `number`[] \| `ArrayBuffer` | the data to send |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:263](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L263)

___

#### html

• **html**: (`body`: `string`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`body`): [`Response`](#interfacesresponsemd)

Sends a HTML text response. This method sends a response (with the correct content-type) that is the body string paramter.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `body` | `string` | the string to send |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:256](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L256)

___

#### json

• **json**: (`body`: `Record`<`string`, `any`\>) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`body`): [`Response`](#interfacesresponsemd)

Sends a JSON response. This method sends a response (with the correct content-type) that is the parameter converted to a JSON string.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `body` | `Record`<`string`, `any`\> | the object to send |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:242](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L242)

___

#### redirect

• **redirect**: (`code`: `number`, `loc`: `string`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`code`, `loc`): [`Response`](#interfacesresponsemd)

Redirects to the URL, with specified status, a positive integer that corresponds to an HTTP status code.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `code` | `number` | the HTTP status code (301, 302, ...) |
| `loc` | `string` | the location to redirect |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:311](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L311)

___

#### send

• **send**: (`body`: `string` \| `number`[] \| `ArrayBuffer`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`body`): [`Response`](#interfacesresponsemd)

Sends the HTTP response.

When the parameter is a ArrayBuffer or number[], the method sets the Content-Type response header field to “application/octet-stream”.
When the parameter is a String, the method sets the Content-Type to “text/html”.
Otherwise the method sets the Content-Type to "application/json" and convert paramter to JSON representation before sending.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `body` | `string` \| `number`[] \| `ArrayBuffer` | the data to send |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:274](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L274)

___

#### set

• **set**: (`field`: `string`, `value`: `string`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`field`, `value`): [`Response`](#interfacesresponsemd)

Sets the response’s HTTP header field to value.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `field` | `string` | the header field name |
| `value` | `string` | the value to set |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:303](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L303)

___

#### status

• **status**: (`code`: `number`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`code`): [`Response`](#interfacesresponsemd)

Sets the HTTP status for the response.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `code` | `number` | the satus code value |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:281](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L281)

___

#### text

• **text**: (`format`: `string`, `v?`: `any`[]) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`format`, `v?`): [`Response`](#interfacesresponsemd)

Sends a plain text response. This method sends a response (with the correct content-type) that is the string formatting result.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `format` | `string` | go format string |
| `v?` | `any`[] | format values (if any) |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:250](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L250)

___

#### type

• **type**: (`mime`: `string`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`mime`): [`Response`](#interfacesresponsemd)

Sets the Content-Type HTTP header to the MIME type as from mime parameter.

**`Params`**

mime the content type

###### Parameters

| Name | Type |
| :------ | :------ |
| `mime` | `string` |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:288](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L288)

___

#### vary

• **vary**: (`header`: `string`) => [`Response`](#interfacesresponsemd)

##### Type declaration

▸ (`header`): [`Response`](#interfacesresponsemd)

Adds the header field to the Vary response header.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `header` | `string` | the header filed name |

###### Returns

[`Response`](#interfacesresponsemd)

##### Defined in

[index.d.ts:295](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L295)


<a name="modulesmd"></a>

## Auxiliary

### Classes

- [Application](#classesapplicationmd)

### Interfaces

- [Request](#interfacesrequestmd)
- [Response](#interfacesresponsemd)

### Type Aliases

#### Middleware

Ƭ **Middleware**: (`req`: [`Request`](#interfacesrequestmd), `res`: [`Response`](#interfacesresponsemd), `next`: () => `void`) => `void`

##### Type declaration

▸ (`req`, `res`, `next`): `void`

Middleware defines middleware and request handler callback function.

###### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `req` | [`Request`](#interfacesrequestmd) | the request object |
| `res` | [`Response`](#interfacesresponsemd) | the response object |
| `next` | () => `void` | calling from middleware enables processing next middleware |

###### Returns

`void`

##### Defined in

[index.d.ts:16](https://github.com/szkiba/muxpress/blob/master/api/index.d.ts#L16)
